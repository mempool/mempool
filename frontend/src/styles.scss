@use "sass:color";

/* Theme */
$bg: #11131f;
$active-bg: #000000;
$hover-bg: #12131e;
$fg: #fff;
$nav-bg: $bg;
$title-fg: #2055e3;

$taproot: #eba814;
$taproot-light: #d5a90a;
$taproot-dark: #9d7c05;

/* Bootstrap */
$body-bg: $bg;
$body-color: $fg;
$gray-800: $bg;
$gray-700: $fg;

$nav-tabs-link-active-bg: $active-bg;

$primary: #007cfa;
$secondary: #272f4e;
$tertiary: #6225b2;
$success: #0aab2f;
$info: #00ddff;
$danger: #dc3545;
$warning: #ffc107;

$h5-font-size: 1.15rem !default;

$pagination-bg: $body-bg;
$pagination-border-color: $gray-800;
$pagination-disabled-bg:           $fg;
$pagination-disabled-border-color: $bg;
$pagination-active-color:          $fg;
$pagination-active-bg:             $tertiary;
$pagination-hover-bg:              $hover-bg;
$pagination-hover-border-color:     $bg;
$pagination-disabled-bg:          $bg;

$link-color:                $info;
$link-decoration:           none !default;
$link-hover-color:          color.adjust($link-color, $lightness: -15%) !default;
$link-hover-decoration:     underline !default;

$dropdown-bg: $bg;
$dropdown-link-color: $fg;

$dropdown-link-hover-color: $fg;
$dropdown-link-hover-bg: $active-bg;

$dropdown-link-active-color: $fg;
$dropdown-link-active-bg: $active-bg;

@use "bootstrap/scss/bootstrap" with (
  $body-bg: $body-bg,
  $body-color: $body-color,
  $gray-800: $gray-800,
  $gray-700: $gray-700,
  $nav-tabs-link-active-bg: $nav-tabs-link-active-bg,
  $primary: $primary,
  $secondary: $secondary,
  $success: $success,
  $info: $info,
  $danger: $danger,
  $warning: $warning,
  $h5-font-size: $h5-font-size,
  $pagination-bg: $pagination-bg,
  $pagination-border-color: $pagination-border-color,
  $pagination-disabled-bg: $pagination-disabled-bg,
  $pagination-disabled-border-color: $pagination-disabled-border-color,
  $pagination-active-color: $pagination-active-color,
  $pagination-active-bg: $pagination-active-bg,
  $pagination-hover-bg: $pagination-hover-bg,
  $pagination-hover-border-color: $pagination-hover-border-color,
  $link-color: $link-color,
  $link-decoration: $link-decoration,
  $link-hover-color: $link-hover-color,
  $link-hover-decoration: $link-hover-decoration,
  $dropdown-bg: $dropdown-bg,
  $dropdown-link-color: $dropdown-link-color,
  $dropdown-link-hover-color: $dropdown-link-hover-color,
  $dropdown-link-hover-bg: $dropdown-link-hover-bg,
  $dropdown-link-active-color: $dropdown-link-active-color,
  $dropdown-link-active-bg: $dropdown-link-active-bg
);

.input-group-text {
  background-color: #1c2031 !important;
  border: 1px solid #20263e !important;
}

// Preserve radio button group styling - ensure radio buttons remain hidden
.btn-group-toggle > label > input[type="radio"],
.btn-group.btn-group-toggle > label > input[type="radio"] {
  position: absolute !important;
  width: 1px !important;
  height: 1px !important;
  padding: 0 !important;
  margin: -1px !important;
  overflow: hidden !important;
  clip: rect(0, 0, 0, 0) !important;
  white-space: nowrap !important;
  border: 0 !important;
  opacity: 0 !important;
  pointer-events: none !important;
}

:root {
  --bg: #{$bg};
  --active-bg: #{$active-bg};
  --hover-bg: #{$hover-bg};
  --fg: #{$fg};
  --nav-bg: #{$nav-bg};
  --title-fg: #{$title-fg};

  --primary: #{$primary};
  --secondary: #{$secondary};
  --tertiary: #{$tertiary};
  --success: #{$success};
  --info: #{$info};
  --danger: #{$danger};
  --warning: #{$warning};
  --link-color: #{$link-color};
  --link-hover-color: #{$link-hover-color};
  --icon: #f1f1f1;
  --skeleton-bg: #2e324e;
  --skeleton-bg-light: #5d6182;

  --box-bg: #171c2a;
  --stat-box-bg: #0b1018;
  --alert-bg: #3a1c61;
  --navbar-bg: #212121;
  --transparent-fg: #ffffffbb;
  --fade-out-box-bg-start: rgba(23, 28, 42, 0);
  --fade-out-box-bg-end: rgba(23, 28, 42, 1);
  --opacity: 0.57;

  --testnet: #1d486f;
  --signet: #6f1d5d;
  --liquid: #116761;
  --liquidtestnet: #494a4a;

  --mainnet-alt: #9339f4;
  --testnet-alt: #183550;
  --signet-alt: #471850;
  --liquidtestnet-alt: #272e46;

  --taproot: #eba814;
  --taproot-light: #d5a90a;
  --taproot-dark: #9d7c05;

  --green: #83fd00;
  --red: #ff3d00;
  --yellow: #fff000;
  --grey: #7e7e7e;
  --tooltip-grey: #b1b1b1;
  --tooltip-text: var(--fg); // White text for tooltips
  --orange: #ff9f00;

  --search-button: #4d2d77;
  --search-button-border: #472a6e;
  --search-button-focus: #533180;
  --search-button-shadow: #7c58ab80;
}

html, body {
  height: 100%;
}

body {
  background-color: var(--active-bg);
  padding-bottom: 60px;

  // Bootstrap 5 override: Restore Bootstrap 4 font stack for pixel-perfect parity
  // BS5 changed font-family order from "-apple-system, BlinkMacSystemFont, ..." to "system-ui, -apple-system, ..."
  // BS4 includes "Liberation Sans" which BS5 removed - this affects text rendering width and causes layout differences
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji" !important;
}

.container {
  position: relative;
}

// Bootstrap 5 changed container padding from 15px to 12px
// Override to match Bootstrap 4 / production styling
.container,
.container-fluid,
.container-sm,
.container-md,
.container-lg,
.container-xl,
.container-xxl {
  padding-left: 15px !important;
  padding-right: 15px !important;
}

// Bootstrap 5's container max-width is 1320px at xxl breakpoint (1400px+)
// Override to match Bootstrap 4 / production (1140px)
// Note: Some components override this with their own max-width values (e.g., .container-xl.widget with 1400px)
// We only override when NOT a widget to preserve component-specific overrides
.container:not(.widget):not(.full-height) {
  @media (min-width: 1400px) {
    max-width: 1140px !important;
  }
}

// Bootstrap 5's container-xl max-width is 1320px at xxl breakpoint (1400px+)
// Override to match Bootstrap 4 / production (1140px)
// Note: Some components override this with their own max-width values (e.g., .container-xl.widget with 1400px)
// We only override when NOT a widget to preserve component-specific overrides
.container-xl:not(.widget) {
  @media (min-width: 1400px) {
    max-width: 1140px !important;
  }
}

// Ensure dashboard-container also uses 1140px
.container-xl.dashboard-container {
  @media (min-width: 1400px) {
    max-width: 1140px !important;
  }
}

// Bootstrap 5 changed row negative margin from -15px to -12px
// Override to match Bootstrap 4 / production styling
.row {
  margin-left: -15px !important;
  margin-right: -15px !important;
}

// Bootstrap 5 changed column padding from 15px to 12px
// Override to match Bootstrap 4 / production styling
[class*="col-"],
.col {
  padding-left: 15px !important;
  padding-right: 15px !important;
}

// Bootstrap 5 changed form-select padding-right from 28px (Bootstrap 4 custom-select) to 36px
// Override to match Bootstrap 4 / production styling for footer selectors
.form-select {
  padding-right: 28px !important;
  // Override Bootstrap 5's default single black arrow with production double white arrow
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='4' height='5' viewBox='0 0 4 5'%3e%3cpath fill='%23fff' d='M2 0L0 2h4zm0 5L0 3h4z'/%3e%3c/svg%3e") !important;
  background-size: 8px 10px !important; // Match production size (SVG is 4x5, scaled 2x)
  background-repeat: no-repeat !important;
  background-position: calc(100% - 12px) 50% !important;
}

// Bootstrap 5 changed card border-radius from 0.25rem (4px) to 0.375rem (6px)
// Override to match Bootstrap 4 / production styling
.card {
  border-radius: 4px !important;
}

// Bootstrap 5 removed .float-left and .float-right in favor of .float-start and .float-end
// Restore Bootstrap 4 float utility classes to match production
.float-right {
  float: right !important;
}

.float-left {
  float: left !important;
}

main {
  margin-top: 24px;
}

.full-height {
  @media (max-width: 767.98px) {
    min-height: 100vh;
  }
}

:focus {
  outline: none !important;
}

.box {
  min-height: 1px;
  padding: 1.25rem;
  position: relative;
  min-width: 0;
  word-wrap: break-word;
  background-color: var(--box-bg);
  background-clip: border-box;
  border: 1px solid rgba(0,0,0,.125);
  box-shadow: 0.125rem 0.125rem 0.25rem rgba(0,0,0,0.075);
}

.preview-box {
  min-height: 520px;
  padding: 1rem 3rem 1.5rem;
}

@media (max-width: 767.98px) {
  .box {
    padding: 0.75rem;
  }
}

.navbar-nav.liquid > .active {
  background-color: var(--liquid) !important;
}

.navbar-nav.testnet > .active {
  background-color: var(--testnet) !important;
}

.navbar-nav.signet > .active {
  background-color: var(--signet) !important;
}

.navbar-nav.liquidtestnet > .active {
  background-color: var(--liquidtestnet) !important;
}

.form-control {
  color: var(--fg);
  background-color: var(--secondary);
  border: 1px solid rgba(17, 19, 31, 0.2);
}

.form-control:focus {
  color: var(--fg);
  background-color: var(--secondary);
}

.btn-purple {
  background-color: var(--tertiary);
  border-color: var(--tertiary);
}

.btn-purple:not(:disabled):not(.disabled):active, .btn-purple:not(:disabled):not(.disabled).active, .show > .btn-purple.dropdown-toggle {
  color: #fff;
  background-color: var(--search-button);
  border-color: var(--search-button-border);
}

.btn-purple:focus, .btn-purple.focus {
  color: #fff;
  background-color: var(--search-button-focus);
  border-color: var(--search-button);
  box-shadow: 0 0 0 0.2rem var(--search-button-shadow);
}

.btn-purple:hover {
  color: #fff;
  background-color: var(--search-button-focus);
  border-color: var(--search-button);
}

.form-control.form-control-secondary {
  color: #fff;
  background-color: var(--secondary);
  border: 1px solid var(--secondary);
}
.form-control.form-control-secondary:focus {
  color: var(--fg);
}

.h2-match-table {
  padding-left: .65rem;
}

.skeleton-loader {
  box-sizing: border-box;
  /**
  * `overflow` and `position` are required steps to make sure
  * the component respects the specified dimensions
  * given via `theme` object @Input attribute
  */
  overflow: hidden;
  position: relative;

  animation: progress 2s ease-in-out infinite;
  background: var(--skeleton-bg) no-repeat;
  background-image: linear-gradient(
    90deg,
    rgba(255, 255, 255, 0),
    var(--skeleton-bg-light),
    rgba(255, 255, 255, 0)
  );
  background-size: 200px 100%;
  border-radius: 4px;
  width: 100%;
  height: 14px;
  display: inline-block;

  &:after,
  &:before {
    box-sizing: border-box;
  }

  &.circle {
    width: 40px;
    height: 40px;
    margin: 5px;
    border-radius: 50%;
  }
}

@keyframes progress {
  0% {
    background-position: -200px 0;
  }
  100% {
    background-position: calc(200px + 100%) 0;
  }
}

.symbol {
	color: var(--transparent-fg);
	font-size: 12px;
}

.progress-text {
  span {
    color: #fff !important;
  }
}

.block-size, .blocks-container {
  .symbol {
    font-size: 16px;
    color: #fff !important;
  }
}

.break-all {
  white-space: normal;
  word-break: break-all;
}

.title-block {
  color: var(--fg);
  padding-top: 20px;
  padding-bottom: 10px;
  border-top: 3px solid var(--fg);
  display: flex;
  flex-direction: row;
  justify-content: space-between;
}

.title-address, .title-asset {
  color: var(--fg);
  padding-bottom: 10px;
  display: flex;
  flex-direction: column;
  margin-bottom: 7px;
  @media (min-width: 576px) {
    flex-direction: row;
    margin-bottom: 0px;
  }
  h1 {
    line-height: 1;
  }
}

.smaller-text {
  font-size: 14px;
}

.nowrap {
  white-space: nowrap;
}

.table-xs th, .table-xs td {
  padding: 0.1rem;
}

.table {
  margin-bottom: 0;
  font-size: 0.9rem;
  @media (min-width: 576px) {
    font-size: 1rem;
  }
}

.table-fixed {
  table-layout: fixed;
}

.close {
  color: var(--fg);
}

.close:hover {
  color: var(--fg);
}

.white-color {
  color: white;
}

.green-color {
  color: var(--green);
}

.red-color {
  color: var(--red);
}

.yellow-color {
  color: var(--yellow);
}

// Bootstrap 4 compatibility: Match production's rule order
// Production has Bootstrap 4's default rgba(0, 0, 0, 0.05) which gets overridden
// Bootstrap 5 doesn't have this default, but we add it for compatibility
.table-striped tbody tr:nth-of-type(odd) {
  background-color: rgba(0, 0, 0, 0.05); // Bootstrap 4 default (gets overridden below)
}

// Override Bootstrap 4 default to use theme variable (matches production)
.table-striped tbody tr:nth-of-type(odd) {
  background-color: var(--stat-box-bg);
}

// Bootstrap 5 override: Ensure table cells have transparent backgrounds and white text
.table {
  color: var(--fg) !important; // Ensure table text is white by default
  
  td, th {
    background-color: transparent !important; // Override Bootstrap 5's default background - cells should be transparent
    border-color: rgba(255, 255, 255, 0.1) !important; // Ensure borders are visible on dark background
  }
  
  // Apply white color to all table cells EXCEPT .latest-adjustments tables
  // .latest-adjustments tables are handled separately to allow inline color styles
  &:not(.latest-adjustments) {
    td, th {
      color: var(--fg) !important; // Ensure text color is white
    }
  }
  
  // For .latest-adjustments tables, only apply white color to cells without inline styles
  // This allows inline styles (red/green for Change column) to work
  &.latest-adjustments {
    td:not([style*="color"]),
    th:not([style*="color"]) {
      color: var(--fg) !important; // Ensure text color is white for cells without inline styles
    }
    // Cells with inline color styles will use their inline style (highest specificity)
  }
  
  // Ensure amount component inside tables is white (not black) and has transparent background
  // BUT: Exclude app-amount symbols in reward-stats component which should be gray
  app-amount,
  app-amount span,
  app-amount .fiat {
    color: var(--fg) !important; // White text for amount component
    background-color: transparent !important; // Ensure transparent background (matches production)
  }
  
  // For app-amount symbols, use default gray color (not white)
  // Bootstrap 5 migration: Remove white override to let default gray show through
  // Note: reward-stats component has its own rule that overrides this with higher specificity
  app-amount .symbol {
    color: var(--transparent-fg) !important; // Gray text for currency units to match production
  }
  
  // Override Bootstrap 5's table-borderless to ensure no unwanted borders
  &.table-borderless {
    td, th {
      border: 0 !important;
    }
  }
}

.dual-col-striped tbody tr:nth-of-type(odd) td:not(.spacer) {
  background-color: var(--stat-box-bg) !important; // Override global .table td { background-color: transparent !important; } rule
}

.dual-col-striped tbody tr td.spacer {
  width: 30px;
}

.bordertop {
  border-top: 1px solid #4c4c4c;
}

.smaller-text {
  font-size: 14px;
}

html:lang(ru) .card-title {
  font-size: 0.9rem;
}

/* MEMPOOL CHARTS - start */

.mempool-wrapper-tooltip-chart {
  height: 250px;
}

.echarts {
  height: 100%;
  min-height: 180px;
}

.tx-wrapper-tooltip-chart,
.fees-wrapper-tooltip-chart {
  background: rgba($active-bg, 0.95);
  border-radius: 4px;
  box-shadow: 1px 1px 10px rgba(0,0,0,0.5);
  color: var(--tooltip-grey);
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  padding: 10px 15px;
  text-align: left;
  width: 200px;
  thead {
    th {
      font-size: 9px;
      color: var(--tooltip-grey);
      text-align: right;
      &:first-child {
        text-align: left;
        left: -1px;
        position: relative;
      }
      &:nth-child(4) {
        display: none;
      }
    }
  }
  .title {
    font-size: 12px;
    font-weight: 700;
    margin-bottom: 2px;
    color: #fff;
    .total-value {
      float: right;
    }
  }
  .active {
    color: var(--yellow) !important;
    .value,
    .total-partial {
      color: var(--yellow) !important;
      .symbol {
        color: var(--yellow) !important;
      }
    }
  }
  .item {
    line-height: 0.8;
    .indicator-container {
      .indicator {
        display: inline-block;
        margin-right: 5px;
        border-radius: 2px;
        margin-top: 5px;
        width: 9px;
        height: 9px;
      }
    }
    .value {
      text-align: right;
      .symbol {
        color: #7e7e7e;
        font-size: 9px !important;
      }
    }
    .symbol {
      font-size: 9px;
    }
    .total-partial {
      font-size: 10px;
      width: 58px;
      text-align: right;
    }
    .total-percentage-bar {
      padding-left: 8px;
    }
    .total-progress-percentage {
      width: 45px;
      height: 5px;
      text-align: right;
      display: none;
    }
    .total-progress-sum {
      width: 58px;
      text-align: right;
    }
  }
  .total-label {
    width: 100%;
    text-align: left;
    color: #fff;
    margin-top: 5px;
    font-size: 14px;
    span {
      float: right;
    }
    .symbol {
      margin-left: 3px;
      font-size: 9px;
      position: relative;
      top: 2px;
    }
  }
  thead {
    th {
      font-size: 9px;
      color: var(--tooltip-grey);
      text-align: right;
      &:first-child {
        text-align: left;
        left: -1px;
        position: relative;
      }
      &:nth-child(4) {
        display: none;
      }
      &:nth-child(5) {
        display: none;
      }
    }
  }
  .total-percentage-bar {
    margin: auto;
    width: 35px;
    position: relative;
    span {
      display: block;
      background: #282d47;
      height: 5px;
      border-radius: 2px;
    }
  }
  .total-parcial-active {
    text-align: right;
    margin: 5px auto 5px;
    padding-left: 0px;
    span {
      font-size: 10px;
    }
    .symbol {
      font-size: 9px;
    }
    .total-percentage-bar {
      width: 100%;
      span {
        transition: 1000 all ease-in-out;
      }
    }
    .progress-percentage {
      float: left;
    }
  }
}

.tx-wrapper-tooltip-chart {
  width: 115px;
  .item {
    display: flex;
  }
  .value {
    margin-top: 5px;
  }
  .indicator-container {
    border-radius: 2px;
  }
}

.fee-distribution-chart {
  height: 265px;
}

.fees-wrapper-tooltip-chart {
  .item {
    font-size: 9px;
    line-height: 0.8;
    margin: 0px;
  }
  .indicator {
    margin-right: 5px !important;
    border-radius: 1px !important;
    margin-top: 0px !important;
  }
}

.fees-wrapper-tooltip-chart-advanced,
.tx-wrapper-tooltip-chart-advanced {
  width: 300px;
  background: rgba($bg, 0.98);

  thead {
    th {
      &:nth-child(4) {
        display: table-cell;
      }
      &:nth-child(5) {
        display: table-cell;
      }
    }
  }
  .title {
    font-size: 15px;
    margin-bottom: 5px;
  }
  .item {
    line-height: 1.25;
    font-size: 11px;
    .value {
      width: 60px;
      .symbol {
        font-size: 9px !important;
      }
    }
    .total-partial {
      font-size: 10px;
      width: 58px;
      text-align: right;
    }
    .total-progress-percentage {
      width: 65px;
      height: 4px;
      padding: 0px 5px;
      display: table-cell !important;
      border-radius: 4px;
    }
    .total-progress-sum {
      width: 65px;
      height: 4px;
      padding: 0px 5px;
      border-radius: 4px;
    }
    .total-progress-percentage-bar,
    .total-progress-sum-bar {
      width: 35px;
      height: 4px;
      div {
        width: 100%;
        border-radius: 4px;
        display: block;
        background: #29324c94;
      }
      span {
        height: 4px;
        border-radius: 4px;
        display: block;
      }
    }
  }
  .total-label {
    margin-top: 5px;
    font-size: 14px;
    span {
      float: right;
    }
  }
  .total-parcial-active {
    text-align: right;
    margin: 5px auto 5px;
    span {
      font-size: 10px;
    }
    .total-percentage-bar {
      width: 100%;
      left: 0;
      span {
        transition: 1000 all ease-in-out;
      }
    }
  }
  .total-percentage-bar-background {
    background-color: #282d47;
  }
}

.tx-wrapper-tooltip-chart-advanced {
  .indicator-container {
    .indicator {
      margin-right: 5px;
      border-radius: 0px;
      margin-top: 5px;
      width: 9px;
      height: 9px;
    }
  }
}


/* MEMPOOL CHARTS - end */

.grow {
  flex-grow: 1;
}

hr {
  border-top: 1px solid rgba(255, 255, 255, 0.1);
  // Bootstrap 5 override: Ensure hr margins match Bootstrap 4 / production
  // Bootstrap 5 changed default margins - override to match production spacing
  margin-top: 1rem !important; // Match Bootstrap 4 default (1rem = 16px)
  margin-bottom: 1rem !important; // Match Bootstrap 4 default (1rem = 16px)
}

// Bootstrap 5 override: Ensure text-muted color matches Bootstrap 4 / production
// Bootstrap 5 changed the default text-muted color - override to match production
.text-muted {
  color: #6c757d !important; // Match Bootstrap 4 default text-muted color
}

tr {
  white-space: nowrap;
}

h1, h2, h3 {
  margin-bottom: 1rem;
}

// Bootstrap 5 override: Match Bootstrap 4 heading font sizes exactly
// Production uses exact pixel values, Bootstrap 5 uses rem with rounding issues
h1 {
  font-size: 40px !important; // Match production (39.595px in BS5)
}

h2 {
  font-size: 32px !important; // Match production (31.757px in BS5)
}

h3 {
  font-size: 28px !important; // Match production (27.838px in BS5)
}

h4 {
  font-size: 24px !important; // Match production (23.919px in BS5)
}

// Bootstrap 5 override: Match Bootstrap 4 h5 margin-bottom (12px instead of 8px)
h5 {
  margin-bottom: 0.75rem !important; // 12px to match production
}

@media (max-width: 767.98px) {
  h1 {
    font-size: 2rem;
  }
  h2 {
    font-size: 1.50rem;
  }
}

@media (min-width: 992px) {
  .lg-inline {
    display: inline-block;
  }
}

@media (min-width: 768px) {
  .d-md-inline {
    display: inline-block;
  }
}

.header-bg {
  font-size: 14px;
}

.progress {
  position: relative;
  display: flex;
  align-items: center;
  height: 1rem; // Bootstrap 5 default height
  background-color: var(--secondary) !important; // Override Bootstrap 5 default light background
}

.progress-bar:not(.progress-mempool) {
  background-color: transparent; // Ensure no default Bootstrap 5 background color for non-mempool progress bars
}

.progress-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 100%;
  text-align: center;
  line-height: 1;
  z-index: 1;
  color: var(--fg) !important; // Ensure text color matches theme
}

.progress-bar.progress-mempool {
  background: repeating-linear-gradient(to right, var(--secondary), var(--secondary) 0%, var(--primary) 0%, var(--mainnet-alt) 100%) !important;
  height: 100% !important; // Ensure progress bar has height to display gradient
}

.progress-bar.progress-mempool.testnet {
  background: repeating-linear-gradient(to right, var(--secondary), var(--secondary) 0%, var(--testnet) 0%, var(--testnet-alt) 100%) !important;
}

.progress-bar.progress-mempool.signet {
  background: repeating-linear-gradient(to right, var(--secondary), var(--secondary) 0%, var(--signet) 0%, var(--signet-alt) 100%) !important;
}

.progress-bar.progress-mempool.liquid {
  background: repeating-linear-gradient(to right, var(--secondary), var(--secondary) 0%, var(--liquid) 0%, var(--testnet-alt) 100%) !important;
}

.progress-dark {
  background-color: var(--stat-box-bg);
}

.progress-darklight {
  background-color: var(--box-bg);
}

.progress-light {
  background-color: var(--skeleton-bg);
}

.progress.progress-health {
  background: repeating-linear-gradient(to right, var(--secondary), var(--secondary) 0%, var(--primary) 0%, $success 100%);
  justify-content: flex-end;
}

.progress-bar.progress-bar-health {
  background: var(--secondary);
}

.mt-2-5, .my-2-5 {
  margin-top: 0.75rem !important;
}

.alert-mempool {
  color: #fff;
  background-color: var(--tertiary);
  border-color: var(--alert-bg);
  width: 100%;
  display: inline-flex;
  flex-direction: column;
  justify-content: space-between;
  @media (min-width: 676px){
    flex-direction: row;
  }
}

.flex {
	display: flex;
}

th {
  white-space: nowrap;
}

// ASM opcode colors

.constants { color: #ff8c00 }
.control { color: #87ceeb }
.stack { color: #ffa500 }
.splice { color: #46b5e2 }
.logic { color: #46b5e2 }
.arithmetic { color: #cae8d0 }
.crypto { color: #fa3d3d }
.locktime { color: #ff8c00 }
.reserved { color: #ff8c00 }

.shortable-address {
  font-family: monospace;
}

.full-container .card-header .formRadioGroup {
  margin-top: 6px;
  display: flex;
  flex-direction: column;
  @media (min-width: 991px) {
    position: relative;
    top: -100px;
  }
  @media (min-width: 830px) and (max-width: 991px) {
    position: relative;
    top: 0px;
  }
  @media (min-width: 830px) {
    flex-direction: row;
    float: right;
    margin-top: 0px;
  }
  .btn-sm {
    font-size: 9px;
    @media (min-width: 830px) {
      font-size: 14px;
    }
  }
}

.direction-ltr {
  direction: ltr;
}

.rtl-layout {
  text-align: start;

  .navbar-brand {
    margin-right: 0px;
    text-align: right;
  }

  .nav-pills {
    @extend .nav-pills;
    display: inline-block;
  }

  .description {
    direction: rtl;
  }

  .dropdown {
    margin-right: 1rem;
    margin-left: 0;
    @media (min-width: 576px) {
      margin-left: 1rem;
    }
    @media (min-width: 768px) {
      margin-left: 0;
    }
  }
  .dropdown-menu-right {
    left: 0px;
    right: auto;
  }
  .fa-circle-right {
    @extend .fa-circle-right;
    -webkit-transform: scaleX(-1);
    transform: scaleX(-1);
  }

  .btn.ml-2 {
    margin-right: 0.5rem !important;
  }

  .pool-name {
    @extend .pool-name;
    padding-right: 10px;
  }

  .endpoint-container {
    @extend .endpoint-container;
    .section-header {
      @extend .section-header;
      text-align: left;
    }
  }

  .table td {
    text-align: right;
    .fiat {
      @extend .fiat;
      margin-left: 0px !important;
      margin-right: 15px;
    }
  }

  .beta {
    @extend .beta;
    margin: 24px -19px 0px 0px !important;
    @media (max-width: 767.98px) {
      margin: 30px -23px 0px 0px !important;
    }
    @media (max-width: 3429px) {
      margin: 25px -23px 0px 0px !important;
    }
    @media (max-width: 369px) {
      margin: 20px -23px 0px 0px !important;
    }
  }

  .etaDeepMempool {
    @extend .etaDeepMempool;
    @media (max-width: 995px) {
      justify-content: right !important;
    }
    @media (max-width: 849px) {
      justify-content: left !important;
    }
  }

  .nodes {
    @extend .nodes;
    direction: ltr !important;
  }

  .fee-rate {
    @extend .fee-rate;
    direction: rtl !important;
  }

  .bitcoin-satoshis-text {
    direction: ltr !important;
  }

  .fee-graph {
    @extend .fee-graph;
    margin-left: 5em !important;
  }

  .acceleration-timeline {
    @extend .acceleration-timeline;
    direction: ltr !important;

    .interval {
      @extend .interval;
      direction: rtl !important;
    }

    .time {
      @extend .time;
      direction: rtl !important;
    }
  }

  .tracker-bar {
    @extend .tracker-bar;
    direction: ltr;
  }

  .confirmations {
    @extend .confirmations;
    margin-left: 0 !important;
    margin-right: 1em;
  }

  .acceleration-tooltip {
    @extend .acceleration-tooltip;
    direction: rtl;
    text-align: right !important;

    .value {
      @extend .value;
      text-align: start !important;
    }
  }

  .table th {
    text-align: right;
  }

  .title-block {
    text-align: right;
  }

  .mr-3 {
    @extend .ml-3 !optional;
    margin-right: 0 !important;
  }

  // Bootstrap 5 compatibility: .mr-1 (margin-right) should work like Bootstrap 4
  .mr-1 {
    margin-right: 0.25rem !important; // 4px - Bootstrap 4's .mr-1 value
  }

  .mr-2 {
    @extend .ml-2 !optional;
  }

  .float-left {
    float: right !important;
  }

  .float-right {
    float: left !important;
  }

  .text-left {
    text-align: right !important;
  }

  .text-right {
    text-align: left !important;
  }

  .bitcoin-block {
    direction: rtl;
  }

  .next-previous-blocks {
    @extend .next-previous-blocks;
    direction: ltr;
  }

  .tx-link {
    @extend .tx-link;
    margin-left: 0px;
    margin-right: 10px;
  }

  .pagination-container {
    @extend .pagination-container;
    ul {
      @extend ul;
      padding-left: 0px;
      padding-right: 5px;
    }
  }

  .search-box-container {
    @extend .search-box-container;
    margin-right: 0 !important;
    margin-left: 0.5rem !important;
  }

  .code {
    @extend .code;
    text-align: left !important;
    direction: ltr;
    .subtitle {
      @extend .subtitle;
      direction: rtl;
      text-align: right !important;
    }
  }

  .chart {
    direction: ltr;
  }

  .formRadioGroup {
    @media (min-width: 830px) {
      float: left;
    }
  }

  .container-graph, .full-container, .toggle-holder {
    @extend .container-graph;
    .formRadioGroup {
      @extend .formRadioGroup;
      direction: ltr;
    }

    .card-header, h1, h2, h3 {
      direction: rtl;
    }
  }

  .fee-progress-bar {
    @extend .fee-progress-bar;
    &.priority {
      width: 75%;
      border-radius: 10px 0px 0px 10px !important;
      @media (767px < width < 992px), (width < 576px) {
        width: 100%;
      }
    }
  }

  .fees-wrapper-tooltip-chart {
    @extend .fees-wrapper-tooltip-chart;
    .title {
      direction: rtl;
    }
  }

  .btn-link {
    padding: 0.1rem 0.5rem 0.25rem 0 !important;
  }

  .shortable-address {
    direction: ltr;
    font-family: monospace;
  }

  .lastest-blocks-table {
    @extend .lastest-blocks-table;
    .table-cell-mined {
      @extend .table-cell-mined;
      text-align: right !important;
    }
  }

  .mempool-graph {
    @extend .mempool-graph;
    direction: ltr;
  }
  .title-block {
    .title {
      float: right;
    }
  }
  .container-buttons {
    float: left !important;
    width: auto !important;
  }
  .tx-link {
    margin-right: 0px;
    @media (min-width: 768px) {
      margin-right: 10px;
    }
  }

  .btn-audit {
    margin-left: .5em;
  }

  .sidenav {
    @extend .sidenav;
    margin-left: 0px !important;
    margin-right: -250px;
  }

  .sidenav.open {
    margin-right: 0px;
  }

  .profile_image_container {
    @extend .profile_image_container;
    margin-right: 0px !important;
    margin-left: 15px;
  }

  #blockchain-container.with-menu {
    width: calc(100% + 120px);
    left: 120px;
  }
}

.scriptmessage {
	overflow: hidden;
	display: inline-block;
	text-overflow: ellipsis;
	vertical-align: middle;
	max-width: 50px;
	width: auto;
  text-align: left;
	@media (min-width: 376px) {
		max-width: 90px;
	}
	@media (min-width: 476px) {
		max-width: 180px;
	}
	@media (min-width: 576px) {
		max-width: 260px;
	}
	@media (min-width: 768px) {
    max-width: 400px;
	}
	@media (min-width: 850px) {
    max-width: 522px;
	}
	@media (min-width: 992px) {
		max-width: 190px;
	}
	@media (min-width: 1200px) {
		max-width: 250px;
	}
}

.scriptmessage.longer {
	max-width: 230px;
	@media (min-width: 376px) {
		max-width: 290px;
	}
	@media (min-width: 476px) {
		max-width: 380px;
	}
	@media (min-width: 576px) {
		max-width: 470px;
	}
	@media (min-width: 768px) {
    max-width: 850px;
	}
	@media (min-width: 992px) {
		max-width: 410px;
	}
	@media (min-width: 1200px) {
		max-width: 480px;
	}
}

.tab-pane {
  .card {
    background-color: transparent;
    padding: 0;

    button {
      text-align: left;
      display: block;
      width: 100%;
      padding: 1rem 2rem;
      color: #fff;
      font-weight: bold;
      &:focus, &:hover, &:active {
        text-decoration: none;
        outline: none;
        box-shadow: none;
      }
    }

    .card-header {
      padding: 0;
    }

    .collapsed {
      background-color: var(--secondary);
      color: var(--info);
    }
  }

  .subtitle {
    font-weight: bold;
    margin-bottom: 3px;
    button {
      padding: 0px !important;
    }
  }
}


.pagination-container {
  display: inline-block;
  width: 100%;
  justify-content: space-between;
  background: var(--bg);
  margin: 0;
  @media (min-width: 550px) {
    width: auto;
  }
  ul {
    justify-content: space-evenly !important;
    margin: 0;
    @media (min-width: 400px) {
      width: auto;
    }
  }
  .page-link {
    background-color: var(--bg);
    border: 1px solid var(--bg);
    color: #6c757d !important; // Bootstrap 5 migration: gray text for inactive pagination links (not white)
  }
  .page-link:hover {
    background-color: var(--active-bg);
  }
  .page-item.active .page-link {
    background-color: var(--tertiary);
    border: 1px solid var(--tertiary);
    color: #fff !important; // Bootstrap 5 migration: white text for active page
  }
  .page-item.disabled .page-link {
    background-color: var(--bg);
    border: 1px solid var(--bg);
    color: #6c757d !important; // Bootstrap 5 migration: gray text for disabled pagination links
  }
}

.fee-estimation-wrapper {
  .tooltip.show {
    width: 220px;
  }
}

// Bootstrap 5 override: Ensure tooltip text is white
.tooltip,
.bs-tooltip-top,
.bs-tooltip-bottom,
.bs-tooltip-start,
.bs-tooltip-end,
.tooltip-inner {
  color: var(--fg) !important; // White text in tooltips
}

.tooltip-inner {
  background-color: var(--active-bg) !important; // Dark background for tooltips
  color: var(--fg) !important; // White text
}



// Blinking block
@keyframes shadowyBackground {
  0% {
    box-shadow: -10px -15px 75px rgba($taproot, 1);
  }
  50% {
    box-shadow: -10px -15px 75px rgba($taproot, .3);
  }
  100% {
    box-shadow: -10px -15px 75px rgba($taproot, 1);
  }
}

.blink-bg {
  color: #fff;
  background: repeating-linear-gradient($taproot-dark, $taproot-dark 0.163525%, $taproot-light 100%) !important;
  animation: shadowyBackground 1s infinite;
  box-shadow: -10px -15px 75px rgba($taproot, 1);
  transition: 100ms all ease-in;
}

.page-item {
  font-family: monospace;
}

#divider {
  background-image: url("data:image/svg+xml,%3csvg width='100%25' height='100%25' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='104%25' height='100%25' fill='none' stroke='white' stroke-width='4' stroke-dasharray='10%2c17' stroke-dashoffset='18' stroke-linecap='square'/%3e%3c/svg%3e");
}

.visually-hidden {
  display: none;
}

app-master-page, app-liquid-master-page {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  padding-bottom: 48px;
  @media (min-width: 992px) {
    padding-bottom: 0px;
  }
}

app-global-footer {
  margin-top: auto;
}

.btn-xs {
  padding: 0.25rem 0.5rem;
  font-size: 0.875rem;
  line-height: 0.5;
  border-radius: 0.2rem;
}

.info-link fa-icon {
  color: rgba(255, 255, 255, 0.4);
  margin-left: 5px;
}

.dropdown-menu {
  background-color: var(--bg);
  color: var(--fg);
  .dropdown-item:hover, .dropdown-item:focus {
    background-color: var(--active-bg);
    color: var(--fg);
  }
}

// Bootstrap 5 changed dropdown-item padding from 16px (Bootstrap 4) to 24px
// Override to match Bootstrap 4 / production styling
.dropdown-item {
  padding-left: 16px !important;
  padding-right: 16px !important;
}

.btn-secondary {
  background-color: var(--secondary);
  border-color: var(--secondary);
}

a {
  color: var(--link-color);
  &:hover {
    color: var(--link-hover-color) !important; // Ensure hover color is applied
  }
  
  // Bootstrap 5 override: Ensure all links maintain white/light text on hover
  // Exclude footer links, contentinfo links, blockchain badge links (miner names), badges, and title-link (which should inherit white)
  &:hover:not(.btn):not(.dropdown-item):not(.nav-link):not(footer a):not(contentinfo a):not(app-blockchain-blocks a.badge):not(.title-link):not(.badge) {
    color: var(--link-hover-color) !important;
  }
}

// Ensure title-link maintains white color on hover (inherits from parent, doesn't use link hover color)
.title-link:hover,
.title-link:focus,
.title-link:active {
  color: inherit !important; // Maintain white color on hover to match production
}

// Footer links should be gray, not cyan, with underline on hover
// Override Bootstrap 5's default link color (var(--link-color) which is cyan) for footer links
// Use higher specificity to override global a:hover rule
footer a,
contentinfo a,
app-global-footer a,
app-global-footer a,
.footer a,
footer a:link,
footer a:visited,
footer a:hover,
footer a:active,
footer a:focus,
contentinfo a:link,
contentinfo a:visited,
contentinfo a:hover,
contentinfo a:active,
contentinfo a:focus {
  color: rgba(255, 255, 255, 0.4) !important; // Match production footer link color (gray)
  text-decoration: none !important; // No underline by default
}

// Footer links hover state - must be separate to override global a:hover
footer a:hover,
contentinfo a:hover,
app-global-footer a:hover,
.footer a:hover {
  color: rgba(255, 255, 255, 0.4) !important; // Stay same gray on hover (not cyan) - override Bootstrap 5's var(--link-hover-color)
  text-decoration: underline !important; // Add underline on hover
}

// Miner/pool links should be white without underline (no green hover effect)
// Target badge links that go to mining pools
// NOTE: Removed overly broad a[href*="/mining/pool"] and a[routerLink*="/mining/pool"] selectors
// as they catch "View more" links (e.g., /graphs/mining/pools) which should be cyan, not white
// Only target specific badge/component links to mining pools
a.badge[href*="/mining/pool"],
a.badge[routerLink*="/mining/pool"],
a.clear-link,
app-blockchain-blocks a.badge,
app-blockchain-blocks a.badge[href*="/mining/pool"] {
  color: var(--fg) !important; // White text
  text-decoration: none !important; // No underline

  &:hover,
  &:focus,
  &:active,
  &:visited {
    color: var(--fg) !important; // Stay white on hover/focus/active/visited
    text-decoration: none !important; // No underline on hover
  }
}

// Pool name links in blocks list and other components
.pool-name,
a .pool-name,
a.clear-link .pool-name,
a.badge .pool-name {
  color: var(--fg) !important; // White text
  text-decoration: none !important; // No underline
  
  &:hover {
    color: var(--fg) !important; // Stay white on hover
    text-decoration: none !important; // No underline
  }
}

// Exception: .pool-name inside table links should inherit link color (cyan) and hover color (darker cyan)
.table a.link .pool-name,
.table .link .pool-name {
  color: inherit !important; // Inherit cyan link color from parent link
  text-decoration: none !important; // No underline
  
  &:hover {
    color: inherit !important; // Inherit darker cyan hover color from parent link
    text-decoration: none !important; // No underline on hover
  }
}

// Ensure badge links (miner links) don't get link hover colors
a.badge {
  color: inherit !important; // Inherit badge color
  text-decoration: none !important; // No underline
  
  &:hover,
  &:focus,
  &:active,
  &:visited {
    color: inherit !important; // Inherit badge color on hover
    text-decoration: none !important; // No underline on hover
  }
  
  // Specifically for blockchain component badge links
  &[href*="/mining/pool"] {
    color: var(--fg) !important; // White text
    text-decoration: none !important; // No underline
    
    &:hover,
    &:focus,
    &:active,
    &:visited {
      color: var(--fg) !important; // Stay white on hover
      text-decoration: none !important; // No underline
    }
  }
}

// Specific override for blockchain component - must override Bootstrap 5's global a:hover
app-blockchain-blocks {
  a.badge,
  a.badge:link,
  a.badge:visited,
  a.badge:hover,
  a.badge:active,
  a.badge:focus {
    color: #FFF !important; // White text - override Bootstrap 5's var(--link-hover-color) which is cyan
    text-decoration: none !important; // No underline
  }
  
  // Additional specificity for miner-name class
  a.badge.miner-name,
  a.badge.miner-name:link,
  a.badge.miner-name:visited,
  a.badge.miner-name:hover,
  a.badge.miner-name:active,
  a.badge.miner-name:focus {
    color: #FFF !important; // White text - override Bootstrap 5's cyan hover
    text-decoration: none !important; // No underline
  }
}

// Match production: a.badge-success:hover should darken background color (global rule)
// Must override .table a:hover which applies underline and blue color
a.badge-success:hover,
a.badge-success:focus,
.table a.badge-success:hover,
.table a.badge-success:focus {
  background-color: rgb(7, 123, 34) !important; // Darken green background on hover (matches Bootstrap 4 / production)
  color: rgb(255, 255, 255) !important; // White text on hover (override .table a:hover blue color)
  text-decoration: none !important; // No underline on hover (override .table a:hover underline)
}

// Bootstrap 5 override: Ensure nav links have white text on hover
.nav-link {
  &:hover {
    color: var(--fg) !important; // White text on hover
  }
}

// Bootstrap 5 override: Ensure buttons maintain white text on hover
.btn {
  &:hover:not(.btn-link) {
    color: var(--fg) !important; // White text on hover for most buttons
  }
  
  &.btn-link {
    &:hover {
      color: var(--link-hover-color) !important; // Link-style buttons use link hover color
    }
  }
}

// Bootstrap 5 override: Ensure table links have proper hover color and underline
.table {
  a {
    &:hover {
      color: var(--link-hover-color) !important; // Maintain link hover color in tables (darker cyan)
      text-decoration: underline !important; // Add underline on hover to match production
    }
  }
  
  // Specifically target .link class links in tables (used in lightning ranking tables)
  // Need higher specificity to override any other rules
  a.link:hover,
  .link:hover,
  a.link.d-block:hover {
    color: var(--link-hover-color) !important; // Darker cyan on hover (darken($link-color, 15%))
    text-decoration: underline !important; // Underline on hover to match production
  }
}

.badge-primary {
  color: var(--fg);
  background-color: var(--primary);
}

.badge-info {
  background-color: var(--info) !important;
  color: var(--bg) !important; // Dark text on light background
  
  &:hover,
  &:focus,
  &:active {
    color: var(--bg) !important; // Maintain dark text on hover/focus/active
  }
}

.badge-success {
  background-color: var(--success) !important;
  color: var(--fg) !important; // White text on green background
  
  &:hover,
  &:focus,
  &:active {
    color: var(--fg) !important; // Maintain white text on hover/focus/active
  }
}

.badge-danger {
  background-color: var(--danger) !important;
  color: var(--fg) !important; // White text on red background
  
  &:hover,
  &:focus,
  &:active {
    color: var(--fg) !important; // Maintain white text on hover/focus/active
  }
}

.badge-warning {
  background-color: var(--warning) !important;
  color: var(--bg) !important; // Dark text on yellow/orange background (Bootstrap 5 default)
  
  &:hover,
  &:focus,
  &:active {
    color: var(--bg) !important; // Maintain dark text on hover/focus/active
  }
}

// Bootstrap 5 override: Ensure badges maintain their text color on hover
// This handles cases where badges are inside links or have hover states
.badge {
  &:hover,
  &:focus,
  &:active {
    color: inherit !important; // Maintain the badge's text color on hover/focus/active
  }
  
  // Override Bootstrap 5's default hover styles that might change text color
  &.badge-danger:hover,
  &.badge-danger:focus,
  &.badge-danger:active {
    color: var(--fg) !important; // Force white text for danger badges
  }
  
  &.badge-success:hover,
  &.badge-success:focus,
  &.badge-success:active {
    color: var(--fg) !important; // Force white text for success badges
  }
  
  &.badge-warning:hover,
  &.badge-warning:focus,
  &.badge-warning:active {
    color: var(--bg) !important; // Force dark text for warning badges
  }
  
  &.badge-info:hover,
  &.badge-info:focus,
  &.badge-info:active {
    color: var(--bg) !important; // Force dark text for info badges
  }
}

// If badge is inside a link, ensure it maintains its color on link hover
a {
  .badge {
    &:hover {
      color: inherit !important; // Maintain badge color when hovering over link
    }
  }
  
  &:hover {
    .badge {
      color: inherit !important; // Maintain badge color when link is hovered
    }
  }
}

// Bootstrap 5 override: Ensure badges maintain their text color when table row is hovered
.table {
  tr {
    &:hover {
      .badge-danger,
      .badge-success {
        color: var(--fg) !important; // Ensure white text on hover for danger/success badges
      }
      
      .badge-warning {
        color: var(--bg) !important; // Ensure dark text on hover for warning badges
      }
      
      .badge-info {
        color: var(--bg) !important; // Ensure dark text on hover for info badge
      }
    }
  }
  
  // Also ensure badges maintain color when hovering directly on them in tables
  .badge-danger:hover,
  .badge-success:hover {
    color: var(--fg) !important; // White text on hover
  }
  
  .badge-warning:hover {
    color: var(--bg) !important; // Dark text on hover
  }
  
  .badge-info:hover {
    color: var(--bg) !important; // Dark text on hover
  }
}

// Bootstrap 5 override: Ensure badges in any container maintain white text on hover
td .badge-danger:hover,
td .badge-success:hover,
tbody .badge-danger:hover,
tbody .badge-success:hover,
.badge-danger:hover,
.badge-success:hover {
  color: var(--fg) !important; // Force white text on hover
}

td .badge-warning:hover,
tbody .badge-warning:hover,
.badge-warning:hover {
  color: var(--bg) !important; // Force dark text on hover
}

// Bootstrap 5 override: Ensure badges maintain white text when tooltip is active/hovered
// ngbTooltip might add wrapper elements that affect styling
[ngbTooltip],
[ngbtooltip] {
  .badge-danger,
  .badge-success {
    color: var(--fg) !important; // Force white text always
    &:hover,
    &:focus,
    &:active {
      color: var(--fg) !important; // Force white text on hover/focus/active
    }
  }
  
  .badge-warning {
    color: var(--bg) !important; // Force dark text for warning badges
    &:hover,
    &:focus,
    &:active {
      color: var(--bg) !important; // Force dark text on hover/focus/active
    }
  }
  
  .badge-info {
    color: var(--bg) !important; // Force dark text for info badges
    &:hover,
    &:focus,
    &:active {
      color: var(--bg) !important; // Force dark text on hover/focus/active
    }
  }
}

// Global override: Ensure all badge variants maintain their text color on hover
span.badge-danger,
span.badge-danger:hover,
span.badge-danger:focus,
span.badge-danger:active {
  color: var(--fg) !important; // Force white text always
}

span.badge-success,
span.badge-success:hover,
span.badge-success:focus,
span.badge-success:active {
  color: var(--fg) !important; // Force white text always
}

span.badge-warning,
span.badge-warning:hover,
span.badge-warning:focus,
span.badge-warning:active {
  color: var(--bg) !important; // Force dark text always
}

span.badge-info,
span.badge-info:hover,
span.badge-info:focus,
span.badge-info:active {
  color: var(--bg) !important; // Force dark text always
}

// Ensure badges with .mr-1 class have proper spacing
.badge.mr-1 {
  margin-right: 0.25rem !important; // 4px spacing between badges
}

// Bootstrap 5 override: Ensure button success has white text
.btn-success {
  color: var(--fg) !important; // White text on green background
}

.btn-primary {
  color: var(--fg);
  background-color: var(--primary);
  border-color: var(--primary);
}

// Fix button group toggle styling for Bootstrap 5
.btn-group-toggle {
  // Override Bootstrap 5's default display to match Bootstrap 4 behavior
  display: inline-flex !important;
  vertical-align: middle !important;
  
  @media (min-width: 830px) {
    display: block !important;
  }
  
  // Remove gaps and ensure seamless button connection
  .btn {
    margin-left: 0 !important;
    margin-right: 0 !important;
    
    &:not(:first-child) {
      margin-left: -1px !important; // Overlap borders for seamless connection
    }
    
    &:focus {
      z-index: 1; // Bring focused button to front
      position: relative; // Ensure z-index works
    }
  }
  
  .btn-primary {
    // Default border radius - will be overridden by btn-toggle-rows if present
    border-radius: 3.2px !important;
    
    // Active state - darker blue with white text
    &.active,
    &:active,
    &:focus:active {
      background-color: #0063c7 !important; // rgb(0, 99, 199)
      border-color: #0063c7 !important;
      color: var(--fg) !important;
    }
    
    // Hover state - darker blue (same as active)
    &:hover:not(.active):not(:active) {
      background-color: #0063c7 !important; // rgb(0, 99, 199)
      border-color: #0063c7 !important;
      color: var(--fg) !important;
    }
    
    // Focus state
    &:focus {
      box-shadow: 0 0 0 0.2rem rgba(0, 99, 199, 0.25) !important;
    }
  }
}

// Handle btn-toggle-rows which has multiple button groups
// Override component styles to use 3.2px border radius instead of default
.btn-toggle-rows {
  @media (min-width: 500px) {
    .btn-group:first-child > .btn:first-child {
      border-top-left-radius: 3.2px !important;
      border-bottom-left-radius: 3.2px !important;
    }
    .btn-group:last-child > .btn:last-child {
      border-top-right-radius: 3.2px !important;
      border-bottom-right-radius: 3.2px !important;
    }
  }
}

.btn-small-height {
	line-height: 1;
}

// Bootstrap 5 override: Match Bootstrap 4 button border-radius (4px instead of 6px)
.btn {
  border-radius: 4px !important;
}

// Bootstrap 5 override: Match Bootstrap 4 small button border-radius (3.2px / 0.2rem instead of 4px)
.btn-sm {
  border-radius: 0.2rem !important; // 3.2px at default font-size
}

// Bootstrap 5 override: Match Bootstrap 4 badge padding (3px 4.8px instead of 4.2px 7.8px)
// Note: padding does not use !important to allow inline styles to override (e.g., miner badges with padding: 0)
.badge {
  padding: 3px 4.8px;
  border-radius: 4px !important; // Bootstrap 5 changed from 4px to 6px - override to match Bootstrap 4
}

// Bootstrap 5 override: Restore badge-secondary background color to match production
// Production uses rgb(39, 47, 78), Bootstrap 5 has transparent background
.badge-secondary {
  background-color: #272F4E !important;
}

button {
  touch-action: manipulation;
}

// Bootstrap 5 override: Ensure selected text is white with proper background
// Match production styling where selected text is visible on dark background
::selection {
  color: var(--fg) !important; // White text
  background-color: rgba(0, 124, 250, 0.3) !important; // Light blue background (using primary color with opacity)
}

::-moz-selection {
  color: var(--fg) !important; // White text (Firefox)
  background-color: rgba(0, 124, 250, 0.3) !important; // Light blue background (Firefox)
}

// Bootstrap 5 override: Ensure active nav-tabs links have white text
// Match production styling where active nav tabs have white text on dark background
.nav-tabs .nav-link.active {
  color: var(--fg) !important; // White text (production has white, Bootstrap 5 has black)
}
